webpackJsonp([8],{"3JUW":function(e,o){},"5qGM":function(e,o,c){"use strict";var t={render:function(){var e=this.$createElement,o=this._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]};o.a=t},M93x:function(e,o,c){"use strict";var t=c("xJD8"),r=c.n(t),n=c("5qGM"),a=c("VU/8")(r.a,n.a,!1,null,null,null);o.default=a.exports},NHnr:function(e,o,c){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t={};c.d(t,"userInfoSetting",function(){return g}),c.d(t,"felloInfoSetting",function(){return O}),c.d(t,"agreementRes",function(){return f}),c.d(t,"handleDoorOpen",function(){return p}),c.d(t,"handleDoorClose",function(){return C}),c.d(t,"handleLightOnOff",function(){return b}),c.d(t,"sessionEnd",function(){return N}),c.d(t,"sessionSavedPage",function(){return m}),c.d(t,"sessionReload",function(){return k});var r=c("7+uW"),n=c("M93x"),a=c("/ocq");r.a.use(a.a);var s=new a.a({routes:[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:function(){return Promise.all([c.e(0),c.e(1)]).then(c.bind(null,"vv5k"))},meta:{authRequired:!1}},{name:"provision",path:"/provision",component:function(){return Promise.all([c.e(0),c.e(4)]).then(c.bind(null,"Clx4"))},meta:{authRequired:!0}},{name:"certification",path:"/certification",component:function(){return Promise.all([c.e(0),c.e(3)]).then(c.bind(null,"7j8b"))},meta:{authRequired:!0}},{name:"userPage",path:"/userPage",component:function(){return Promise.all([c.e(0),c.e(2)]).then(c.bind(null,"3ZiR"))},meta:{authRequired:!0}},{name:"returnPage",path:"/returnPage",component:function(){return Promise.all([c.e(0),c.e(6)]).then(c.bind(null,"fRWW"))},meta:{authRequired:!0}},{name:"fellowPage",path:"/fellowPage",component:function(){return Promise.all([c.e(0),c.e(5)]).then(c.bind(null,"dol5"))},meta:{authRequired:!0}},{path:"*",component:function(){return Promise.all([c.e(0),c.e(1)]).then(c.bind(null,"vv5k"))}}]});s.beforeEach(function(e,o,c){var t=localStorage.getItem("userInfo");e.matched.some(function(e){return e.meta.authRequired})&&null===t?c("login"):c()});c("yU0E"),c("iDeS");var i=c("NYxO"),u=c("3JUW"),d=c("mtWM"),l=c.n(d),h=this,k=function(e){var o=localStorage.getItem("site");"provision"===o?s.replace("provision").catch(function(){}):"certification"===o?s.replace("/certification").catch(function(){}):"userPage"===o?s.replace("/userPage").catch(function(){}):"fellowPage"===o?s.replace("/fellowPage").catch(function(){}):s.replace("/login").catch(function(){})},m=function(e,o){localStorage.setItem("site",o),e.siteName=o},g=function(e,o){var c=o.resData.DisplayResponse.filter(function(e){return e.tsrdPrctNo===o.booking})[0],t=c.tsrdCar.split("/"),r=c.tsrdPrctYmd,n=r,a=c.tsrdTim.split("-"),s=a[1].split(":"),i=new Date(n.substr(0,4),n.substr(4,2),n.substr(6,2),s[0],s[1]),u=new Date(i.getTime()-18e5);return e.userInfo={bookNumber:c.tsrdPrctNo,centerName:c.tsrdCtrNm,spaceName:c.tsrdStrgNm,carName:t[0],carNumber:c.carNumber,bookDay:r.substr(0,4)+"년 "+r.substr(4,2)+"월 "+r.substr(6,2)+"일 ",bookTime:c.tsrdTim,bookTimeStr:a[0]+"-"+u.getHours()+":"+u.getMinutes(),address:c.tsrdAdr,spaceNumber:c.tsrdTn,fellowNum:c.chanTsrdPrctNo,getDate:c.tsrdPrctYmd}},f=function(e,o){console.log(o),e.agreementInfo=o},O=function(e,o,c){console.log(o,c)},p=function e(o,c){!o.doorOpen&&o.openCount>0&&setTimeout(function(){o.doorOpenChecked||(l.a.post("https://hyundai-driving.mocean.com/controls/checkControlResponse.do",c).then(function(e){if("DONE"===e.data.commandState)switch(e.data.commandResultState){case"OK":o.doorOpen=!0,o.doorOpenChecked=!0,l.a.post("https://hyundai-driving.mocean.com/controls/controls/immobilizer.do",{tsrdPrctNo:h.$store.userInfo.bookNumber,action:"unlock"});break;case"IGN_ON":o.checkcarMsg="차량 시동이 걸려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0;break;case"DOOR_OPENED":o.checkcarMsg="차량 문이 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0;break;case"HOOD_OPENED":o.checkcarMsg="후드가 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0;break;case"IGN_PROHIBIT_OUT_OF_CONTROL":o.checkcarMsg="재시동방지장치 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0;break;case"FOB_OUT_OF_CONTROL":o.checkcarMsg="FOB 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0;break;case"TRUNK_OPENED":o.checkcarMsg="트렁크가 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0;break;default:o.checkcarMsg="차량 제어에 실패하였습니다.",o.checkcar=!0,o.doorOpenChecked=!0}}),o.openCount--,e(o,c))},3e3)},C=function e(o,c){!o.doorClose&&o.closeCount>0&&setTimeout(function(){o.doorCloseChecked||(l.a.post("https://hyundai-driving.mocean.com/controls/checkControlResponse.do",c).then(function(e){if("DONE"===e.data.commandState)switch(e.data.commandResultState){case"OK":o.doorClose=!0,o.doorCloseChecked=!0;break;case"IGN_ON":o.checkcarMsg="차량 시동이 걸려 있어 제어에 실패하였습니다.",o.doorCloseChecked=!0,o.checkcar=!0;break;case"DOOR_OPENED":o.checkcarMsg="차량 문이 열려 있어 제어에 실패하였습니다.",o.doorCloseChecked=!0,o.checkcar=!0;break;case"HOOD_OPENED":o.checkcarMsg="후드가 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorCloseChecked=!0;break;case"IGN_PROHIBIT_OUT_OF_CONTROL":o.checkcarMsg="재시동방지장치 제어에 실패하였습니다.",o.checkcar=!0,o.doorCloseChecked=!0;break;case"FOB_OUT_OF_CONTROL":o.checkcarMsg="FOB 제어에 실패하였습니다.",o.checkcar=!0,o.doorCloseChecked=!0;break;case"TRUNK_OPENED":o.checkcarMsg="트렁크가 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorCloseChecked=!0;break;default:o.checkcarMsg="차량 제어에 실패하였습니다.",o.checkcar=!0,o.doorCloseChecked=!0}}),o.closeCount--,e(o,c))},3e3)},N=function(e){var o=Number(sessionStorage.getItem("expireTime"));(new Date).getTime()>o&&0!==o&&(localStorage.removeItem("userInfo"),sessionStorage.removeItem("expireTime"),localStorage.removeItem("site"),e.sessionEnd=!0,console.log(e.sessionEnd)),e.sessionEnd||sessionStorage.setItem("expireTime",(new Date).getTime()+36e5)},b=function e(o,c){!o.light&&o.lightCount>0&&setTimeout(function(){o.doorLightChecked||(l.a.post("https://hyundai-driving.mocean.com/controls/checkControlResponse.do",c).then(function(e){if("DONE"===e.data.commandState)switch(e.data.commandResultState){case"OK":o.light=!0,o.doorLightChecked=!0;break;case"IGN_ON":o.checkcarMsg="차량 시동이 걸려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0;break;case"DOOR_OPENED":o.checkcarMsg="차량 문이 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0;break;case"HOOD_OPENED":o.checkcarMsg="후드가 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0;break;case"IGN_PROHIBIT_OUT_OF_CONTROL":o.checkcarMsg="재시동방지장치 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0;break;case"FOB_OUT_OF_CONTROL":o.checkcarMsg="FOB 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0;break;case"TRUNK_OPENED":o.checkcarMsg="트렁크가 열려 있어 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0;break;default:o.checkcarMsg="차량 제어에 실패하였습니다.",o.checkcar=!0,o.doorLightChecked=!0}}),o.lightCount--,e(o,c))},3e3)};r.a.use(i.a);var P=new i.a.Store({state:{isLocal:!1,auth:!1,userName:"",userNumber:"",sessionEnd:!1,siteName:"",userInfo:{bookNumber:"",centerName:"",spaceName:"",carName:"",carNumber:"",bookDay:"",bookTime:"",bookTimeStr:"",address:"",spaceNumber:"",fellowNum:"",getDate:""},checkcarMsg:"",checkcar:!1,agreementInfo:{},fellow:!1,doorOpen:!1,doorClose:!1,light:!1,openCount:10,closeCount:10,lightCount:10,doorOpenChecked:!1,doorCloseChecked:!1,doorLightChecked:!1,latitude:null,longitude:null,curLatitude:null,curLongitude:null},getters:u,mutations:t});r.a.config.productionTip=!1,r.a.prototype.$axios=l.a,new r.a({router:s,store:P,el:"#app",render:function(e){return e(n.default)}})},iDeS:function(e,o){},xJD8:function(e,o){},yU0E:function(e,o){}},["NHnr"]);
//# sourceMappingURL=app.de715ec6f518e24dfa04.js.map